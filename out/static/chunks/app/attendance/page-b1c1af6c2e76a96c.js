(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{4149:(e,t,s)=>{"use strict";s.d(t,{eu:()=>b,q5:()=>A,BK:()=>k});var a=s(95155),r=s(12115),n=s(3468),l=s(70222),i=s(4129),c=s(97602),d=s(14806);function x(){return()=>{}}var o="Avatar",[u,m]=(0,n.A)(o),[h,p]=u(o),f=r.forwardRef((e,t)=>{let{__scopeAvatar:s,...n}=e,[l,i]=r.useState("idle");return(0,a.jsx)(h,{scope:s,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:(0,a.jsx)(c.sG.span,{...n,ref:t})})});f.displayName=o;var j="AvatarImage",y=r.forwardRef((e,t)=>{let{__scopeAvatar:s,src:n,onLoadingStatusChange:o=()=>{},...u}=e,m=p(j,s),h=function(e,t){let{referrerPolicy:s,crossOrigin:a}=t,n=(0,d.useSyncExternalStore)(x,()=>!0,()=>!1),l=r.useRef(null),c=n?(l.current||(l.current=new window.Image),l.current):null,[o,u]=r.useState(()=>N(c,e));return(0,i.N)(()=>{u(N(c,e))},[c,e]),(0,i.N)(()=>{let e=e=>()=>{u(e)};if(!c)return;let t=e("loaded"),r=e("error");return c.addEventListener("load",t),c.addEventListener("error",r),s&&(c.referrerPolicy=s),"string"==typeof a&&(c.crossOrigin=a),()=>{c.removeEventListener("load",t),c.removeEventListener("error",r)}},[c,a,s]),o}(n,u),f=(0,l.c)(e=>{o(e),m.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==h&&f(h)},[h,f]),"loaded"===h?(0,a.jsx)(c.sG.img,{...u,ref:t,src:n}):null});y.displayName=j;var g="AvatarFallback",v=r.forwardRef((e,t)=>{let{__scopeAvatar:s,delayMs:n,...l}=e,i=p(g,s),[d,x]=r.useState(void 0===n);return r.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>x(!0),n);return()=>window.clearTimeout(e)}},[n]),d&&"loaded"!==i.imageLoadingStatus?(0,a.jsx)(c.sG.span,{...l,ref:t}):null});function N(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}v.displayName=g;var w=s(25016);let b=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(f,{ref:t,className:(0,w.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});b.displayName=f.displayName;let k=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(y,{ref:t,className:(0,w.cn)("aspect-square h-full w-full",s),...r})});k.displayName=y.displayName;let A=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(v,{ref:t,className:(0,w.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});A.displayName=v.displayName},6132:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8499:(e,t,s)=>{Promise.resolve().then(s.bind(s,25885))},14806:(e,t,s)=>{"use strict";e.exports=s(30125)},16485:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},21873:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},25885:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(95155),r=s(79820),n=s(83209),l=s(67812),i=s(97003),c=s(4149),d=s(16485),x=s(26983),o=s(91169),u=s(42529),m=s(6132),h=s(78874),p=s(21873);let f=(0,s(71847).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var j=s(84926),y=s(95664);let g=[{id:1,caregiver:"Ana L\xf3pez",patient:"Mar\xeda Garc\xeda",location:"Calle Principal 123",checkIn:"08:00",checkOut:"14:00",status:"active",duration:"6h en turno",photos:{entry:!0,exit:!1},gpsValidated:!0},{id:2,caregiver:"Carmen Rodr\xedguez",patient:"Juan P\xe9rez",location:"Av. Libertad 456",checkIn:"07:45",checkOut:null,status:"active",duration:"6h 15min",photos:{entry:!0,exit:!1},gpsValidated:!0},{id:3,caregiver:"Laura S\xe1nchez",patient:"Rosa Jim\xe9nez",location:"Plaza Mayor 789",checkIn:"14:00",checkOut:null,status:"late",duration:"15min tarde",photos:{entry:!0,exit:!1},gpsValidated:!1},{id:4,caregiver:"Mar\xeda Hern\xe1ndez",patient:"Carmen Ruiz",location:"Av. del Sol 654",checkIn:"08:30",checkOut:"12:30",status:"completed",duration:"4 horas",photos:{entry:!0,exit:!0},gpsValidated:!0},{id:5,caregiver:"Patricia Gonz\xe1lez",patient:"Antonio L\xf3pez",location:"Calle Luna 987",checkIn:null,checkOut:null,status:"absent",duration:"-",photos:{entry:!1,exit:!1},gpsValidated:!1}],v={total:8,present:6,late:1,absent:1,avgDuration:"5.5h"};function N(){return(0,a.jsx)(r.N,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Control de Asistencia"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Monitoreo en tiempo real de entradas y salidas"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.$,{variant:"outline",children:[(0,a.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Ver Historial"]}),(0,a.jsxs)(i.$,{children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Registrar Manual"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-5",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Total Programado"}),(0,a.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.total}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cuidadoras hoy"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Presentes"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:v.present}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"A tiempo"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Tardanzas"}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-amber-600"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:v.late}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Con retraso"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Ausencias"}),(0,a.jsx)(h.A,{className:"h-4 w-4 text-red-600"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:v.absent}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"No presentadas"})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ZB,{className:"text-sm font-medium",children:"Duraci\xf3n Promedio"}),(0,a.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:v.avgDuration}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"En turno"})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Asistencia en Tiempo Real"}),(0,a.jsx)(n.BT,{children:new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:g.map(e=>(0,a.jsx)(n.Zp,{className:"absent"===e.status?"border-red-200 dark:border-red-900":"late"===e.status?"border-amber-200 dark:border-amber-900":"",children:(0,a.jsxs)(n.Wu,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.eu,{className:"h-8 w-8",children:(0,a.jsx)(c.q5,{className:"text-xs",children:e.caregiver.split(" ").map(e=>e[0]).join("")})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-sm",children:e.caregiver}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.patient})]})]}),(e=>{switch(e){case"active":return(0,a.jsx)(l.E,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"En turno"});case"completed":return(0,a.jsx)(l.E,{variant:"secondary",children:"Completado"});case"late":return(0,a.jsx)(l.E,{className:"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:"Tardanza"});case"absent":return(0,a.jsx)(l.E,{variant:"destructive",children:"Ausente"});default:return(0,a.jsx)(l.E,{children:e})}})(e.status)]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-xs",children:e.location})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-3 w-3 text-green-600"}),(0,a.jsx)("span",{children:e.checkIn||"-"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-3 w-3 text-red-600"}),(0,a.jsx)("span",{children:e.checkOut||"-"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.gpsValidated?(0,a.jsxs)(l.E,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(p.A,{className:"mr-1 h-3 w-3"}),"GPS OK"]}):(0,a.jsxs)(l.E,{variant:"outline",className:"text-xs text-red-600",children:[(0,a.jsx)(p.A,{className:"mr-1 h-3 w-3"}),"GPS Error"]})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.photos.entry?(0,a.jsx)(y.A,{className:"h-3 w-3 text-green-600"}):(0,a.jsx)(y.A,{className:"h-3 w-3 text-gray-300"}),e.photos.exit?(0,a.jsx)(y.A,{className:"h-3 w-3 text-green-600"}):(0,a.jsx)(y.A,{className:"h-3 w-3 text-gray-300"})]})]}),"-"!==e.duration&&(0,a.jsx)("div",{className:"text-center pt-2",children:(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.duration})})]})]})},e.id))})})]})]})})}},30125:(e,t,s)=>{"use strict";var a=s(12115),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useState,l=a.useEffect,i=a.useLayoutEffect,c=a.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!r(e,s)}catch(e){return!0}}var x="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),a=n({inst:{value:s,getSnapshot:t}}),r=a[0].inst,x=a[1];return i(function(){r.value=s,r.getSnapshot=t,d(r)&&x({inst:r})},[e,s,t]),l(function(){return d(r)&&x({inst:r}),e(function(){d(r)&&x({inst:r})})},[e]),c(s),s};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:x},42529:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},78874:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},91169:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},95664:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])}},e=>{e.O(0,[105,849,135,248,683,441,255,358],()=>e(e.s=8499)),_N_E=e.O()}]);